.roadmap {
  display: flex;
  grid-gap: 87px;

  @include for-small-tablet {
    flex-direction: column;
  }

  @include small-tablet {
    justify-content: center;
    grid-gap: clamp(15px, 5.208vw, 40px);
  }

  &__row {
    &:not(.roadmap__row--second) {
      .roadmap__item {
        &:last-child {
          @include for-small-tablet{
            padding-right: 0;
          }
        }
      }
    }

    @include for-small-tablet {
      display: grid;
      grid-template-columns: 0.65fr 1fr 1fr 0.54fr;
    }

    @include small-tablet {
      display: flex;
      flex-direction: column;
      grid-gap: 40px;
    }

    &--second {
      position: relative;

      @include for-small-tablet {
        margin-left: 50px;
        grid-template-columns: 0.96fr 0.95fr 1fr;
      }

      @include small-tablet {
        margin-top: 35px;
      }

      .roadmap__box {
        @include small-tablet {
          align-items: flex-start !important;
        }
      }

      .roadmap__title{
        @include small-tablet{
            text-align: start !important;
        }
      }

      p {
        @include small-tablet {
          text-align: start !important;
        }
      }

      .roadmap__item {
        &:last-child {
          padding-right: 0 28px 0 20px;
        }

        &::before {
          @include for-small-tablet {
            top: -43.5px !important;
            bottom: initial !important;
            transform: scaleY(-1) translateY(7.5%) !important;
          }

          @include small-tablet {
            left: calc((clamp(15px, 5.208vw, 40px) / 2) * -1);
            right: initial !important;
            transform: scaleX(-1) translateX(8.5%) !important;
          }
        }

        @include small-tablet {
          align-items: flex-start !important;
          flex-direction: column;
        }
      }

      &::before {
        position: absolute;
        content: "";
        background-repeat: no-repeat;
        background-position: center;
        background-size: cover;

        @include for-small-tablet {
          top: -43.5px;
          right: 0;
          background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1161' height='6' fill='none'%3E%3Cpath stroke='%232C3458' stroke-linecap='round' stroke-width='5' d='m3 3 1155-.0001'/%3E%3C/svg%3E");
          height: 6px;
          width: calc(100% + 50px);
          transform: translateY(-50%);
        }

        @include small-tablet {
          background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='264' fill='none'%3E%3Cpath stroke='%232C3458' stroke-linecap='round' stroke-width='3' d='M2 262V2'/%3E%3C/svg%3E");
          bottom: 0;
          left: calc((clamp(15px, 5.208vw, 40px) / 2) * -1);
          bottom: 0;
          width: 4px;
          height: calc(100% + 25px);
          transform: translateX(-50%);
        }
      }
    }
  }

  &__item {
    padding: 0 20px;
    width: 100%;
    display: flex;
    grid-gap: clamp(25px, 5.5556vw, 65px);
    position: relative;

    &--mode {
      justify-content: flex-end;
      .roadmap__date {
        @include for-small-tablet {
          margin-left: -65%;
        }
      }
    }

    &:not(:last-child) {
      &::before {
        position: absolute;
        content: "";
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='46' height='294' fill='none'%3E%3Cpath stroke='url(%23paint0_linear_2001_1353)' stroke-linecap='round' stroke-width='2' d='M23 271V1'/%3E%3Ccircle cx='23.0722' cy='271.307' r='8.78461' fill='%232364F9'/%3E%3Crect width='31.9423' height='31.9423' x='28.7457' y='293.317' fill='url(%23paint1_linear_2001_1353)' stroke='url(%23paint2_linear_2001_1353)' rx='15.9711' transform='rotate(-150 28.7457 293.317)'/%3E%3Cdefs%3E%3ClinearGradient id='paint0_linear_2001_1353' x1='22.5' x2='22.5' y1='271' y2='1' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%232364F9'/%3E%3Cstop offset='1' stop-color='%23153B93' stop-opacity='0'/%3E%3C/linearGradient%3E%3ClinearGradient id='paint1_linear_2001_1353' x1='45.3999' x2='45.3999' y1='294' y2='326.942' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23272F50' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%23272F50' stop-opacity='0.31'/%3E%3C/linearGradient%3E%3ClinearGradient id='paint2_linear_2001_1353' x1='45.3999' x2='45.3999' y1='326.942' y2='294' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23fff'/%3E%3Cstop offset='1' stop-color='%23fff' stop-opacity='0'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E");
        background-position: bottom;
        background-size: cover;
        z-index: 3;

        @include for-small-tablet {
          right: -23px;
          width: 46px;
          height: 294px;
          bottom: -43.5px;
          transform: translateY(7.5%);
        }

        @include small-tablet {
          background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='262' height='45' fill='none'%3E%3Cpath stroke='url(%23paint0_linear_2001_1354)' stroke-linecap='round' stroke-width='2' d='M240 22H1'/%3E%3Ccircle cx='239.672' cy='22.3066' r='8.78461' fill='%232364F9'/%3E%3Crect width='31.9423' height='31.9423' x='245.346' y='44.317' fill='url(%23paint1_linear_2001_1354)' stroke='url(%23paint2_linear_2001_1354)' rx='15.9711' transform='rotate(-150 245.346 44.317)'/%3E%3Cdefs%3E%3ClinearGradient id='paint0_linear_2001_1354' x1='240' x2='1' y1='21.5' y2='21.5' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%232364F9'/%3E%3Cstop offset='1' stop-color='%23153B93' stop-opacity='0'/%3E%3C/linearGradient%3E%3ClinearGradient id='paint1_linear_2001_1354' x1='262' x2='262' y1='45' y2='77.9423' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23272F50' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%23272F50' stop-opacity='0.31'/%3E%3C/linearGradient%3E%3ClinearGradient id='paint2_linear_2001_1354' x1='262' x2='262' y1='77.9423' y2='45' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23fff'/%3E%3Cstop offset='1' stop-color='%23fff' stop-opacity='0'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E");
          bottom: -40px;
          right: calc((clamp(15px, 5.208vw, 40px) / 2) * -1);
          width: 190px;
          height: 30px;
          transform: translateX(8.5%);
        }
      }
    }

    @include for-small-tablet {
      flex-direction: column;
    }

    @include small-tablet {
      flex-direction: column-reverse;
      align-items: flex-end;
    }
  }

  &__box {
    display: flex;
    flex-direction: column;
    grid-gap: clamp(10px, 1.2821vw, 15px);

    @include for-small-tablet {
      max-width: 179px;

      &--mode {
        max-width: 159px;
      }

      &--third {
        max-width: 185px;
      }

      &--fifth {
        max-width: 208px;
      }
    }

    @include small-tablet {
      align-items: flex-end;
    }
  }

  &__title {
    font-weight: 700;
    font-size: clamp(14px, 1.3675vw, 16px);
    line-height: 131%;
    color: rgba(var(--cl-a), 1);

    @include small-tablet{
        text-align: end;
    }
  }

  p {
    font-weight: 500;
    font-size: clamp(12px, 1.1966vw, 14px);
    line-height: 143%;
    color: rgba(var(--cl-d), 1);

    @include small-tablet {
      text-align: end;
    }
  }

  &__date {
    font-weight: 600;
    font-size: clamp(14px, 1.3675vw, 16px);
    line-height: 131%;
    color: rgba(var(--cl-a), 1);
    border: 1px solid var(--br-c);
    border-radius: 12px;
    width: clamp(140px, 16.4103vw, 192px);
    height: clamp(45px, 4.7009vw, 55px);
    backdrop-filter: blur(19.200000762939453px);
    background: var(--gr-e);
    display: flex;
    align-items: center;
    justify-content: center;

    @include for-small-tablet {
      align-self: center;
    }

    &.active {
      position: relative;
      z-index: 2;
      &::before {
        pointer-events: none;
        position: absolute;
        content: "";
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='347' height='202' fill='none'%3E%3Cg filter='url(%23filter0_f_101_4526)'%3E%3Cellipse cx='173.5' cy='101' fill='%232364F9' rx='93.5' ry='21'/%3E%3C/g%3E%3Cdefs%3E%3Cfilter id='filter0_f_101_4526' width='347' height='202' x='0' y='0' color-interpolation-filters='sRGB' filterUnits='userSpaceOnUse'%3E%3CfeFlood flood-opacity='0' result='BackgroundImageFix'/%3E%3CfeBlend in='SourceGraphic' in2='BackgroundImageFix' result='shape'/%3E%3CfeGaussianBlur result='effect1_foregroundBlur_101_4526' stdDeviation='40'/%3E%3C/filter%3E%3C/defs%3E%3C/svg%3E");
        background-position: center;
        background-size: contain;
        background-repeat: no-repeat;
        width: clamp(307px, 29.6581vw, 347px);
        height: clamp(162px, 17.265vw, 202px);
        bottom: 0;
        left: 50%;
        transform: translate(-50%, 45%);
        z-index: -1;
      }
    }
  }
}
